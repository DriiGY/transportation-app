

<Faq>:
    
    orientation:"vertical"
    padding:[dp(6)]
    canvas.before:
        Color:
            rgba:app.colors.white
        Rectangle:
            pos:self.pos    
            size:self.size
    BoxLayout:
        orientation:"vertical"
        size_hint_y: .2
        padding:[dp(5), 0, dp(10), 0]
        spacing:dp(5)
        ButtonIcon:
            size_hint: 1, .05
            text:icon("icon-chevron-left")
            color:[0,0,0,1]
            bold:True
            font_size:app.fonts.size.h1
            on_release:
                root.parent.manager.current = "scrn_settings"
                root.parent.manager.transition.direction = "left"
        BoxLayout:
            size_hint: 1, .05
            padding:[dp(25),0,0,0]
            canvas.before:
                Color:
                    rgba:[0,1,1,0]
                Rectangle:
                    size:self.size
                    pos:self.pos
            Label:
                
                size_hint: 1, 1
                text: "FAQS"
                color:[0,0,0,1]
                text_size:self.size 
                halign:"left"
                valign:"middle"
                font_size:app.fonts.size.h1
                
    MDBoxLayout:
        orientation:"vertical"
        size_hint_y: .8
        MDTabs:
            id:tabs
            background_color:app.colors.white
            text_color_normal:app.colors.black
            text_color_active:rgba("#6167E9")
            indicator_color:rgba("#6167E9")
            #TAB
            Tab:
                
                icon:""
                title:"Feedback"
                BoxLayout:
                    spacing:dp(10)
                    canvas.before:
                        Color:
                            rgba:[0,0,1,0]
                        Rectangle:
                            pos:self.pos
                            size:self.size
                    orientation:"vertical"
                    padding:[dp(3), dp(10), dp(3), dp(5)]
                    BoxLayout:
                        size_hint:1, None
                        height:dp(35)
                        canvas.before:
                            Color:
                                rgba:[0,0,1,0]
                            Rectangle:
                                pos:self.pos
                                size:self.size
                        MDLabel:
                            canvas.before:
                                Color:
                                    rgba:[0,1,1,0]
                                Rectangle:
                                    pos:self.pos
                                    size:self.size
                            text:"Ratings and Reviews"
                            bold:True
                            font_size:app.fonts.size.h4
                        MDRaisedButton:
                            canvas.before:
                                Color:
                                    rgba:[1,0,1,0]
                                Rectangle:
                                    pos:self.pos
                                    size:self.size
                            text: "Review"
                            md_bg_color: rgba("#6167E9") # opens dialog to give stars and comment like playstore
                    
                    # average rating and graph
                    BoxLayout:
                        canvas.before:
                            Color:
                                rgba:[1,0,1,0]
                            Rectangle:
                                pos:self.pos
                                size:self.size
                        orientation:"horizontal"
                        size_hint:1, None
                        height:dp(150)
                        BoxLayout:
                            canvas.before:
                                Color:
                                    rgba:[1,0,0,0]
                                Rectangle:
                                    pos:self.pos
                                    size:self.size
                            orientation:"vertical"
                            size_hint_x:.4
                            padding:[dp(15), dp(25), dp(10), dp(20) ]
                            BoxLayout:
                                orientation:"vertical"
                                size_hint:1,1
                                spacing:dp(10)
                                BoxLayout:
                                    MDLabel:
                                        
                                        text:"4.4"
                                        font_size:dp(50)
                                        color: [0,0,0,1]
                                        halign:"center"
                                        shorten:True
                                BoxLayout: # add id to each icon so the color can be manipulated later
                                    size_hint:1,1
                                    MDIcon:
                                        pos_hint:{"center_y":.5}
                                        icon:"star"
                                        icon_size: dp(20)
                                        theme_text_color: "Custom"
                                        text_color: rgba("#0F9D58")
                                        
                                    MDIcon:
                                        pos_hint:{"center_y":.5}
                                        icon:"star"
                                        icon_size: dp(20)
                                        theme_text_color: "Custom"
                                        text_color: rgba("#0F9D58")
                                        
                                    MDIcon:
                                        pos_hint:{"center_y":.5}
                                        icon:"star"
                                        icon_size: dp(20)
                                        theme_text_color: "Custom"
                                        text_color: rgba("#0F9D58")
                                        
                                    MDIcon:
                                        pos_hint:{"center_y":.5}
                                        icon:"star-half-full"
                                        icon_size: dp(20)
                                        theme_text_color: "Custom"
                                        text_color: rgba("#0F9D58")
                             
                                    MDIcon:
                                        pos_hint:{"center_y":.5}
                                        icon:"star-outline"
                                        icon_size: dp(20)
                                        theme_text_color: "Custom"
                                        text_color: rgba("#0F9D58")
                                      
                                       
                                MDLabel:
                                    
                                    text:"9,353,934"
                                    font_size:dp(18)
                                    color: rgba("#646464")
                                    bold:True
                                    halign:"center"
                        BoxLayout:
                        
                            canvas.before:
                                Color:
                                    rgba:[0,1,0,0]
                                Rectangle:
                                    pos:self.pos
                                    size:self.size
                            orientation:"vertical"
                            size_hint_x:.6
                            BoxLayout:#use boxlayouts, graph size is roundedrectagnles size, one roundedrectagnel box layout inside another, size is proportion of stars
                                orientation:"horizontal"
                                BoxLayout:
                                    orientation:"vertical"
                                    size_hint_x:.2
                                    canvas.before:
                                        Color:
                                            rgba:[1,0,0,0]
                                        Rectangle:
                                            pos:self.pos
                                            size:self.size
                                    MDLabel:
                                    
                                        text:"5"
                                        font_size:dp(18)
                                        color: [0,0,0,1]
                                        halign:"center"
                                    MDLabel:
                                        
                                        text:"4"
                                        font_size:dp(18)
                                        color: [0,0,0,1]
                                        halign:"center"
                                    MDLabel:
                                        
                                        text:"3"
                                        font_size:dp(18)
                                        color: [0,0,0,1]
                                        halign:"center"
                                    MDLabel:
                                        
                                        text:"2"
                                        font_size:dp(18)
                                        color: [0,0,0,1]
                                        halign:"center"
                                    MDLabel:
                                        
                                        text:"1"
                                        font_size:dp(18)
                                        color: [0,0,0,1]
                                        halign:"center"
                                BoxLayout:
                                    
                                    orientation:"vertical"
                                    size_hint_x:.8
                                    ##### bar 1
                                    StarBar:
                                        total_stars:100
                                        stars:20
                                    ##### bar 2
                                    StarBar:
                                        total_stars:100
                                        stars:40
                                    ##### bar 3
                                    StarBar:
                                        total_stars:100
                                        stars:35
                                    ##### bar 4
                                    StarBar:
                                        total_stars:100
                                        stars:5
                                    ##### bar 5
                                    StarBar:
                                        total_stars:100
                                        stars:0
                                                
                    BoxLayout:
                        canvas.before:
                            Color:
                                rgba:[1,0,0,1]
                            Rectangle:
                                pos:self.pos
                                size:self.size                        
                   
                            
                    Widget:
                    



            #TAB FAQ
            Tab:
                
                icon:""
                title:"FAQS"
                
                BoxLayout:
                    orientation:"vertical"
                    padding:[0, dp(10), 0, dp(5)]
                    
                    BoxLayout:
                        orientation:"vertical"
                        size_hint_y:None
                        height:dp(50)
                        padding:[dp(5), 0, dp(5), 0]
                        SearchBar:
                            id:search_bar
                            hint_text:"Search for most asked questions"
                    ####### PROBLEM CRITICAL WARNING INSIDE THIS::::::::      
                    ScrollView:
                        # padding:[0, dp(10), 0, dp(20)]
                        do_scroll_x: False
                        do_scroll_y: True 
                        id:scroll_faqs
                        BoxLayout:
                            orientation:"vertical"
                            id:base_box_layout
                            #Group of topics About  
                            # Fazer componente so com cada question para poder adicionar no futuro
                            size_hint_min_y: None
                            size_hint_y: None
                            height: self.minimum_height
                            canvas.before:
                                Color:
                                    rgba:[0,0,1,0]
                                Rectangle:
                                    pos:self.pos
                                    size:self.size
                            BoxLayout:
                                id:base_for_topics
                                orientation:"vertical"
                                size_hint_min_y: None
                                size_hint_y: None
                                height: self.minimum_height
                                # TopicQuestion:
                                #     id:about_transport_id
                                #     topic:"About TransportYoiu"
                                #     # Each question stars here
                                #     Question:
                                #         question:"[b]What are the optiuons? "+"ola[/b]"#str(self.y+self.parent.height/2)
                                #         answer:"TransportYoiu is a app that allows you to choose a initial and final destination and plan it depending on your preferences"  
                                #     #second question starts here
                                #     Question:
                                #         question:"[b]What are the optiuons? "+"ola[/b]"#str(self.y+self.parent.height/2)
                                #         answer:"TransportYoiu is a app that allows you to choose a initial and final destination and plan it depending on your preferences"  
                                
                                #new topic  #################              
                                # TopicQuestion:
                                #     id:options_id
                                #     topic:"Payment options"
                                #     # Each question stars here
                                    
                                #     Question:
                                #         question:"[b]What are the optiuons? "+"ola[/b]"#str(self.y+self.parent.height/2)
                                #         answer:"TransportYoiu is a app that allows you to choose a initial and final destination and plan it depending on your preferences"  
                                #     Question:
                                #         question:"olafoajkofa"
                                #         answer:"fmasmfoismngsongs"         
                                #     Question:
                                #         question:"olafoajkofaddddddddddddddddddddddddd"
                                #         answer:"fmasmfoismngsondddddddddddddddddddddddgs"    
                                #     Question:
                                #         question:"olafoajkofa"
                                #         answer:"fmasmfoismngsongs"         
                                #     Question:
                                #         question:"olafoajkofaddddddddddddddddddddddddd"
                                #         answer:"fmasmfoismngsondddddddddddddddddddddddgs"    
                                  
                                        
                            BoxLayout:
                                id:lookup_questions
                                orientation:"vertical"
                                size_hint_min_y:None
                                size_hint_y:None
                                height:self.minimum_height
                                disabled:True
                                opacity:0
                                MDIconButton:
                                    #size_hint_x:.2
                                    icon:"close"
                                    on_release:root.close_lookup_box()            
            # Widget:
          
            #TAB
            # Tab:
            #     icon:""
            #     title:"What's New"
            #     BoxLayout:
            #         orientation:"vertical"
            #         MDLabel:
            #             id: label
            #             text: "Tab 2"
            #             halign: "center"
            #         MDLabel:
            #             id: label
            #             text: "Tab 2"
            #             halign: "center"
            #         Widget:
                
                

    



<Tab>:
    
<Question>:

    orientation:"vertical"
    size_hint_y:None
    height:self.minimum_height
    spacing:dp(3)
    BoxLayout:
        orientation:"horizontal"
        size_hint_y:None
        height:self.minimum_height
        spacing:dp(2)
        canvas.before:
            Color:
                rgba:[1,0,0,0]
            Rectangle:
                pos:self.pos
                size:self.size
        MDLabel:
            canvas.before:
                Color:
                    rgba:[0,1,0,0]
                Rectangle:
                    pos:self.pos
                    size:self.size
            text:"[b]" + root.question + "[/b]"#str(self.y+self.parent.height/2)
            #text_size: self.size
            valign: "middle"
            font_size: app.fonts.size.h4
            shorten_from: "right" # not working bc shorten is false
            shorten: False
            color: [0,0,0, 1]
            markup: True
            size_hint_y:None
            height: dp(20)
            pos_hint:{"center_y":.5}

        #Default height of mdiconbutton is bigger than dp(20)   
        MDIconButton:
            canvas.before:
                Color:
                    rgba:[0,0,1,0]
                Rectangle:
                    pos:self.pos
                    size:self.size
            id:min_max_close1
            icon:"arrow-up-drop-circle-outline"
            pos_hint: {"center_x": .5, "center_y": .5}
            on_release:root.min_max_answer(self, answer_id, answer_box_id)
            font_size:app.fonts.size.h5
            size_hint_y:None
            height:dp(20)
    BoxLayout:
        id:answer_box_id
        canvas.before:
            Color:
                rgba:[0,1,0,0]
            Rectangle:
                pos:self.pos
                size:self.size
        orientation:"horizontal"
        size_hint_y:None
        height:self.minimum_height
        spacing:dp(2)
        Text:
            id:answer_id
            text:root.answer
            shorten:False
            halign:"left"
            text_size: self.width, None
            size_hint: 1, None
            height: self.texture_size[1]

<TopicQuestion>:
    id:root.id
    canvas.before:
        Color:
            rgba:[0,0,0,0]
        Rectangle:
            pos:self.pos
            size:self.size
    orientation:"vertical"
    size_hint_y:None
    height:self.minimum_height
    # Topic title
    MDLabel:
        id:something
        text: root.topic
        bold:True
        color:rgba("#6167E9")
        font_size:app.fonts.size.h2
        size_hint_y:None
        height:dp(20)
    # Add each question in parallel to MDLabel, add_widget to TopicQuestion

<StarBar>: # This is  a BoxLayout!!!!
                               
    size_hint_y: .2
    #height:dp(20)
    padding:[0,0,0,dp(10)]
    BoxLayout:
        size_hint:1, .4

        canvas.before:
            Color:
                rgba:rgba("#EBEBEB")
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[8]
        BoxLayout:
            size_hint:1,1
            canvas.before:
                Color:
                    rgba:rgba("#0F9D58")
                RoundedRectangle:
                    size:(((self.size[0] * root.stars)/root.total_stars), self.size[1])
                    pos:self.pos
                    radius:[8]
